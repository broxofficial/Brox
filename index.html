<script>
// Menu
const menuBtn=document.getElementById("menuBtn");
const sideMenu=document.getElementById("sideMenu");
const menuOverlay=document.getElementById("menuOverlay");

menuBtn.addEventListener("click",()=>{
    sideMenu.classList.toggle("open");
    menuOverlay.classList.toggle("visible");
    menuBtn.textContent = sideMenu.classList.contains("open") ? "✖" : "☰";
});
menuOverlay.addEventListener("click",()=>{
    sideMenu.classList.remove("open");
    menuOverlay.classList.remove("visible");
    menuBtn.textContent = "☰";
});

// Close side menu when a link is clicked
const sideMenuLinks = document.querySelectorAll('#sideMenu a');
sideMenuLinks.forEach(link => {
    link.addEventListener('click', () => {
        sideMenu.classList.remove('open');
        menuOverlay.classList.remove('visible');
        menuBtn.textContent = "☰";
    });
});

// Modal
const modal=document.getElementById("modal");
const modalMessage=document.getElementById("modalMessage");
function openModal(){modal.classList.add("show");modalMessage.textContent='';}
function closeModal(){modal.classList.remove("show");}
function submitEmail(){
  const email=document.getElementById("emailInput").value.trim();
  if(!email){modalMessage.textContent="Enter a valid email";return;}
  modalMessage.textContent="Thanks! We'll notify you soon: "+email;
  document.getElementById("emailInput").value='';
}

// Roadmap reveal
const items=document.querySelectorAll('.timeline .item');
const obs=new IntersectionObserver(entries=>{
  entries.forEach(e=>{if(e.isIntersecting)e.target.classList.add('visible')})
},{threshold:0.2});
items.forEach(i=>obs.observe(i));

// Modern countdown
// NEW: Set the countdown date directly in the code
const countdownDate = new Date("October 10, 2025 10:00:00 GMT+00:00").getTime();

function updateCountdown(){
  const now = new Date().getTime();
  const rem = countdownDate - now;

  // If the countdown is finished, display zeros
  if(rem <= 0){
    document.getElementById("days").textContent="00";
    document.getElementById("hours").textContent="00";
    document.getElementById("minutes").textContent="00";
    document.getElementById("seconds").textContent="00";
    return;
  }
  
  const d = Math.floor(rem / (1000 * 60 * 60 * 24));
  const h = Math.floor((rem % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const m = Math.floor((rem % (1000 * 60 * 60)) / (1000 * 60));
  const s = Math.floor((rem % (1000 * 60)) / 1000);
  
  document.getElementById("days").textContent = String(d).padStart(2,'0');
  document.getElementById("hours").textContent = String(h).padStart(2,'0');
  document.getElementById("minutes").textContent = String(m).padStart(2,'0');
  document.getElementById("seconds").textContent = String(s).padStart(2,'0');
}

// Call updateCountdown immediately to avoid a delay, then every second
updateCountdown();
setInterval(updateCountdown, 1000);


// Scroll to Top Button Logic
const scrollToTopBtn = document.getElementById("scrollToTopBtn");

// When the user scrolls down 100px from the top of the document, show the button
window.onscroll = function() {
  if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
    scrollToTopBtn.style.display = "flex"; // Use flex to center the icon
  } else {
    scrollToTopBtn.style.display = "none";
  }
};

// When the user clicks on the button, scroll to the top of the document
function scrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: 'smooth' // Smooth scrolling
  });
}
</script>
