<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BROX â€” Official</title>
  <meta name="description" content="BROX â€” community-first memecoin. Join Telegram, get early access & catch the memes." />
  <meta name="theme-color" content="#00f5ff" />
  <meta name="robots" content="index,follow" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    /* ========= Variables & base ========= */
    :root{
      --bg-1:#041826;
      --bg-2:#062a3a;
      --accent:#0ec5ff;
      --accent-2:#ff7a45;
      --muted:#bfe8ff;
      --glass: rgba(255,255,255,0.03);
      --maxw:1150px;
      --radius:14px;
      --mono: "Segoe UI", Inter, Roboto, Arial, sans-serif;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;min-height:100vh;font-family:var(--mono);background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#eaf9ff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    /* ===== Layout container ===== */
    .wrap{max-width:var(--maxw);margin:0 auto;padding:20px}

    /* ===== Header ===== */
    header{
      position:sticky;top:0;z-index:120;
      background:linear-gradient(180deg, rgba(2,18,28,0.68), rgba(2,18,28,0.4));
      backdrop-filter: blur(8px);
      border-bottom:1px solid rgba(255,255,255,0.03);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 18px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{
      width:58px;height:58px;border-radius:12px;
      display:grid;place-items:center;font-weight:900;color:#012028;
      background: linear-gradient(135deg,var(--accent), #79f0ff);
      box-shadow: 0 8px 30px rgba(14,197,255,0.12);
      font-family: monospace;
    }
    .brand-title{font-weight:800;font-size:1.05rem}
    .brand-sub{font-size:0.8rem;color:var(--muted)}
    nav.links{display:flex;gap:18px;align-items:center}
    nav.links a{color:var(--muted);font-weight:600;padding:8px;border-radius:8px}
    nav.links a:hover{color:#012028;background:linear-gradient(90deg,var(--accent),#7fe5ff);padding:8px 12px}
    .cta{background:linear-gradient(90deg,var(--accent),#67e0ff);color:#012028;padding:10px 14px;border-radius:12px;font-weight:800;box-shadow:0 8px 30px rgba(14,197,255,0.12)}
    .small-pill{background:var(--glass);padding:6px 10px;border-radius:999px;color:var(--muted);font-weight:700}
    .hamburger{display:none;background:var(--glass);padding:8px;border-radius:10px;cursor:pointer}
    @media (max-width:980px){ nav.links{display:none}.hamburger{display:inline-flex} }

    /* ===== Hero ===== */
    .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:center;padding:60px 18px}
    .hero-left h1{font-size:44px;margin:0;color:var(--accent);text-shadow:0 12px 40px rgba(14,197,255,0.06)}
    .hero-left p{margin:12px 0 18px;color:var(--muted);max-width:64ch}
    .hero-cta{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .hero-right{display:flex;flex-direction:column;gap:14px;align-items:center;justify-content:center}
    .mascot{
      width:240px;height:240px;border-radius:999px;display:grid;place-items:center;
      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.06), transparent 20%), linear-gradient(135deg,#e0fbff, #a5f0ff);
      box-shadow: 0 30px 80px rgba(14,197,255,0.08), 0 6px 24px rgba(0,0,0,0.4);
      overflow:hidden;will-change:transform;
    }

    /* countdown */
    .countdown{display:flex;gap:12px;align-items:center}
    .countdown .box{background:rgba(255,255,255,0.03);padding:10px 14px;border-radius:10px;text-align:center;min-width:70px}
    .countdown .num{font-weight:900;font-size:1.15rem;color:#fff}

    /* badges */
    .status-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}

    /* Teaser / Lightbox */
    .teaser{margin:32px 18px;padding:26px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));display:flex;gap:16px;align-items:center;justify-content:center}
    .teaser .thumb{width:360px;border-radius:12px;cursor:pointer;box-shadow:0 18px 50px rgba(14,197,255,0.06)}
    .teaser .thumb[loading]{filter:blur(1px)}
    .teaser h2{font-size:2rem;color:var(--accent);margin:0}
    .teaser p{color:var(--muted);margin:6px 0 0}

    /* Allocation */
    .section{padding:48px 18px}
    .section h2{font-size:2.2rem;color:var(--accent);text-align:center;margin-bottom:20px}
    .alloc-grid{display:grid;grid-template-columns:320px 1fr;gap:20px;align-items:start;max-width:1100px;margin:0 auto}
    .alloc-cards{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .card{background:var(--panel, rgba(255,255,255,0.02));padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(2,8,12,0.55)}
    .card h3{margin:0;color:var(--accent);font-size:1.2rem}
    .card p{color:var(--muted);margin-top:8px;font-size:0.95rem}
    .notes{margin-top:18px;color:#cfefff;background:transparent;padding:16px;border-radius:10px;text-align:center}

    /* rotating donut */
    .circle-rotator{width:220px;height:220px;margin:20px auto;display:grid;place-items:center;will-change:transform;animation:spin-slow 12s linear infinite}
    @keyframes spin-slow{to{transform:rotate(360deg)}}
    .circle-svg{width:220px;height:220px}
    .circle-bg{fill:none;stroke:#071018;stroke-width:16}
    .arc-main{fill:none;stroke:var(--accent);stroke-width:16;stroke-linecap:round;transition:stroke-dashoffset .8s cubic-bezier(.2,.9,.2,1)}
    .arc-tail{fill:none;stroke:var(--accent-2);stroke-width:16;stroke-linecap:round;transition:stroke-dashoffset .8s cubic-bezier(.2,.9,.2,1);filter:drop-shadow(0 6px 12px rgba(255,122,69,0.12))}
    .alloc-caption{margin-top:8px;color:var(--muted);text-align:center;font-size:0.95rem}

    /* Roadmap */
    .roadmap{max-width:900px;margin:18px auto;display:grid;gap:12px}
    .fun-step{padding:18px;border-radius:12px;background:linear-gradient(180deg,#042a35,#033441);border-left:6px solid var(--accent);box-shadow:0 10px 30px rgba(0,0,0,0.45);opacity:0;transform:translateY(12px);transition:all .6s ease}
    .fun-step.visible{opacity:1;transform:none}
    .fun-step strong{display:block;color:var(--accent);margin-bottom:8px}
    .fun-step p{color:var(--muted);margin:0}

    /* Community memes */
    .memes{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:18px}
    .meme{background:#02151b;padding:10px;border-radius:10px;text-align:center;cursor:pointer;overflow:hidden;border:1px solid rgba(255,255,255,0.02)}
    .meme img{width:100%;height:160px;object-fit:cover;border-radius:8px;display:block}
    .meme p{color:var(--muted);font-size:0.9rem;margin:8px 0 0}

    /* Footer */
    footer{padding:30px 18px;border-top:1px solid rgba(255,255,255,0.03);margin-top:26px}
    .socials{display:flex;gap:12px;justify-content:center;margin-bottom:12px}
    .soc{width:44px;height:44px;border-radius:10px;display:grid;place-items:center;background:var(--glass);cursor:pointer}
    .copyright{text-align:center;color:var(--muted);font-size:0.95rem}

    /* side menu quarter-width */
    .side-menu{position:fixed;top:0;right:-25vw;height:100%;width:25vw;max-width:380px;background:linear-gradient(180deg,#02151b,#041e27);z-index:1300;transition:right .28s;padding:80px 18px;box-shadow:-18px 0 60px rgba(0,0,0,0.6)}
    .side-menu.open{right:0}
    .side-menu a{display:block;padding:14px 10px;font-size:1.05rem;color:var(--muted);border-radius:8px}
    .side-menu a:hover{background:linear-gradient(90deg,var(--accent),#67e0ff);color:#001}

    /* modal / lightbox */
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:9999;align-items:center;justify-content:center;padding:14px}
    .modal .box{background:linear-gradient(180deg,#06171d,#07232b);padding:20px;border-radius:12px;max-width:520px;width:94%;position:relative}
    .close-x{position:absolute;top:14px;right:14px;background:transparent;border:none;color:var(--muted);font-size:18px;cursor:pointer}

    /* responsive */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr;padding:34px 14px}
      .hero-right{order:-1}
      .mascot{width:200px;height:200px}
      .teaser .thumb{width:260px}
      .alloc-grid{grid-template-columns:1fr}
      .side-menu{width:70vw;right:-70vw}
      .side-menu.open{right:0}
    }

    /* reduce motion preference */
    @media (prefers-reduced-motion: reduce){
      .circle-rotator{animation: none}
      .fun-step{transition:none}
    }
    a:focus,button:focus,input:focus{outline:3px solid rgba(14,197,255,0.12);outline-offset:3px}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="wrap nav" role="navigation" aria-label="Main Navigation">
      <div class="brand" style="align-items:center">
        <div class="logo" aria-hidden>Brox</div>
        <div>
          <div class="brand-title">Brox</div>
          <div class="brand-sub">Born in Fun â€” Memes & Community</div>
        </div>
      </div>

      <nav class="links" aria-label="Primary">
        <a href="#hero">Home</a>
        <a href="#teaser">Teaser</a>
        <a href="#allocation">Allocation</a>
        <a href="#roadmap">Roadmap</a>
        <a href="#community">Community</a>
        <a class="cta" href="https://t.me/brox_official" target="_blank" rel="noopener noreferrer">Join Telegram ðŸš€</a>
        <div style="width:12px"></div>
        <div id="subCount" class="small-pill" title="Subscribers">0 subs</div>
      </nav>

      <button class="hamburger" id="openMenu" aria-label="Open menu"><i class="fa-solid fa-bars"></i></button>
    </div>
  </header>

  <!-- MOBILE SIDE MENU (quarter-screen clone) -->
  <div id="sideMenu" class="side-menu" aria-hidden="true">
    <button id="closeMenu" class="close-x" aria-label="Close menu">âœ•</button>
    <nav style="display:flex;flex-direction:column;gap:12px">
      <a href="#hero">Home</a>
      <a href="#teaser">Teaser</a>
      <a href="#allocation">Allocation</a>
      <a href="#roadmap">Roadmap</a>
      <a href="#community">Community</a>
      <a href="#contact">Contact</a>
    </nav>
  </div>

  <main class="wrap">
    <!-- HERO -->
    <section id="hero" class="hero" aria-labelledby="heroTitle">
      <div class="hero-left">
        <h1 id="heroTitle">ðŸ”¥ Welcome to BROX â€” Memes Fuel the Revolution</h1>
        <p class="lead muted">BROX is community-first. Pre-launch status. Token distribution and roadmap are transparent - the community leads the way.</p>

        <div class="hero-cta">
          <button class="cta" onclick="openSubscribe()">Get Early Access</button>
          <a class="small-pill" href="#allocation">Token Allocation</a>
        </div>

        <div style="margin-top:12px" class="status-row">
          <div class="small-pill">Chain: <strong style="margin-left:6px;color:#fff">Solana</strong></div>
          <div class="small-pill">Audit: <strong style="margin-left:6px;color:#fff">Planned</strong></div>
        </div>

        <div style="margin-top:14px">
          <div style="font-weight:800;margin-bottom:8px">Countdown to Launch</div>
          <div class="countdown" aria-live="polite">
            <div class="box"><div class="num" id="cd-days">00</div><div class="muted" style="font-size:12px">Days</div></div>
            <div class="box"><div class="num" id="cd-hours">00</div><div class="muted" style="font-size:12px">Hours</div></div>
            <div class="box"><div class="num" id="cd-mins">00</div><div class="muted" style="font-size:12px">Mins</div></div>
            <div class="box"><div class="num" id="cd-secs">00</div><div class="muted" style="font-size:12px">Secs</div></div>
          </div>
        </div>
      </div>

      <aside class="hero-right" aria-hidden>
        <div class="mascot" id="mascotWrap">
          <img id="mascotImg" src="Picsart_25-09-20_12-05-00-500.png" alt="BROX mascot" style="width:100%;height:100%;object-fit:cover" />
        </div>
      </aside>
    </section>

    <!-- Info block (exact text retained) -->
    <section class="info-card" aria-label="Project info">
      <div style="font-weight:700">BROX is community-first. Pre-launch status. Token distribution and roadmap are transparent - the community leads the way.</div>

      <h4 style="margin-top:12px">Token Allocation</h4>

      <div style="margin-top:12px">
        <h4>99% Community</h4>
        <p>Allocated for community rewards, airdrops, events, and liquidity incentives.</p>

        <h4 style="margin-top:8px">1% Team & Holders</h4>
        <p>Reserved for long-term project continuity and small team allocation.</p>

        <h4 style="margin-top:8px">Notes</h4>
        <p>This distribution is final per available info. Any changes will be announced publicly and subject to community votes where applicable.</p>
      </div>
    </section>

    <!-- TEASER -->
    <section id="teaser" class="teaser">
      <div style="text-align:center">
        <img id="teaserImg" class="thumb" src="Picsart_25-09-21_10-14-23-094.png" alt="BROX teaser (click to enlarge)" loading="lazy" />
        <h2 style="margin-top:12px">ðŸš€ Coming Soon...</h2>
        <p class="muted">Stay tuned â€” community rewards, airdrops and meme contests incoming.</p>
      </div>
    </section>

    <!-- ALLOCATION (single rotating circle + caption) -->
    <section id="allocation" class="section" aria-labelledby="allocTitle">
      <h2 id="allocTitle">Token Allocation</h2>

      <div class="alloc-grid">
        <div class="card status-panel" aria-hidden>
          <strong>Allocation Snapshot</strong>
          <div style="margin-top:8px;color:var(--muted)">Clear & community-first distribution</div>

          <!-- Single rotating SVG circle with 99% + 1% tail (animated drawing + continuous rotation) -->
          <div class="circle-rotator" role="img" aria-label="Token allocation donut rotating">
            <svg class="circle-svg" viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg" aria-hidden>
              <defs>
                <linearGradient id="gMain" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="var(--accent)"/>
                  <stop offset="100%" stop-color="#67e0ff"/>
                </linearGradient>
              </defs>
              <g transform="rotate(-90 110 110)">
                <circle class="circle-bg" cx="110" cy="110" r="88"></circle>
                <circle id="arcMain" class="arc-main" cx="110" cy="110" r="88"></circle>
                <circle id="arcTail" class="arc-tail" cx="110" cy="110" r="88"></circle>
              </g>
            </svg>
          </div>

          <div class="alloc-caption">Community 99% â€¢ Team & Holders 1%</div>
        </div>

        <div>
          <div class="alloc-cards">
            <div class="card">
              <h3>99% Community</h3>
              <p>Allocated for community rewards, airdrops, events, and liquidity incentives.</p>
            </div>
            <div class="card">
              <h3>1% Team & Holders</h3>
              <p>Reserved for long-term project continuity and a small team allocation.</p>
            </div>
          </div>

          <div class="notes" role="note" aria-live="polite" style="margin-top:12px">
            <strong>Notes:</strong> This distribution is final per available info. Any changes will be announced publicly and subject to community votes where applicable.
          </div>
        </div>
      </div>
    </section>

    <!-- ROADMAP -->
    <section id="roadmap" class="section">
      <h2 style="text-align:center;color:var(--accent)">Roadmap (Meme Edition)</h2>
      <div class="roadmap">
        <div class="fun-step"><strong>Phase 1 â€” Make Noise</strong><p>Spam the feeds with dank memes and recruit the first 1,000 apes.</p></div>
        <div class="fun-step"><strong>Phase 2 â€” Viral Mode</strong><p>Turn memes into momentum â€” contests, collabs, and meme raids.</p></div>
        <div class="fun-step"><strong>Phase 3 â€” Moon Prep</strong><p>Smart contract audit, token launch plan, and listing moves.</p></div>
        <div class="fun-step"><strong>Phase 4 â€” Apes Together</strong><p>Partnerships, community grants, and governance experiments (DAO jokes allowed).</p></div>
      </div>
    </section>

    <!-- COMMUNITY MEMES -->
    <section id="community" class="section">
      <h2 style="text-align:center;color:var(--accent)">Community Memes</h2>
      <p style="text-align:center;color:var(--muted);max-width:850px;margin:6px auto 18px">A wall for the funniest BROX submissions. Click to enlarge â€” send yours to our Telegram!</p>
      <div class="memes" id="memesGrid" aria-live="polite">
        <div class="meme" tabindex="0" data-src="Picsart_25-09-21_10-14-23-094.png"><img src="Picsart_25-09-21_10-14-23-094.png" alt="meme sample"><p>Official teaser meme</p></div>
        <div class="meme" tabindex="0" data-src="Picsart_25-09-20_12-05-00-500.png"><img src="Picsart_25-09-20_12-05-00-500.png" alt="meme sample 2"><p>Official logo meme</p></div>
        <div class="meme" tabindex="0" data-src=""><img src="" alt="placeholder" onerror="this.src=placeholderSVG()"><p>Submit yours</p></div>
      </div>
    </section>

    <!-- CONTACT / FOOTER -->
    <footer id="contact" class="section" style="padding-top:12px">
      <div class="socials" role="navigation" aria-label="Social links">
        <a class="soc" href="https://www.instagram.com/brox__official" target="_blank" rel="noopener noreferrer" title="Instagram"><i class="fab fa-instagram"></i></a>
        <a class="soc" href="https://www.tiktok.com/@brox__official?_t=ZS-8zuoUClUipA&_r=1" target="_blank" rel="noopener noreferrer" title="TikTok"><i class="fab fa-tiktok"></i></a>
        <a class="soc" href="https://x.com/Brox__official?t=qQZkwTKhwXwAWvC-bNNsng&s=09" target="_blank" rel="noopener noreferrer" title="X"><i class="fab fa-x"></i></a>
        <a class="soc" href="https://t.me/brox_official" target="_blank" rel="noopener noreferrer" title="Telegram"><i class="fab fa-telegram"></i></a>
      </div>

      <div style="display:flex;justify-content:center;gap:10px;flex-wrap:wrap;margin-bottom:12px">
        <div class="small-pill">Built for fun</div>
        <div class="small-pill">Community-first</div>
        <div class="small-pill">Memes &gt; Everything</div>
      </div>

      <div class="copyright">Â© <span id="year"></span> BROX. All Rights Reserved.</div>
    </footer>
  </main>

  <!-- SUBSCRIBE MODAL -->
  <div id="subscribeModal" class="modal" aria-hidden="true">
    <div class="box" role="dialog" aria-modal="true" aria-labelledby="subTitle">
      <button class="close-x" aria-label="close" onclick="closeSubscribe()">âœ•</button>
      <h3 id="subTitle" style="color:var(--accent)">Get Early Access</h3>
      <p style="color:var(--muted)">Subscribe for launch alerts, airdrop info and meme contest invites.</p>
      <input id="emailInput" type="email" placeholder="you@example.com" style="width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);margin-top:12px;background:transparent;color:#eaf9ff">
      <div style="display:flex;gap:10px;margin-top:12px">
        <button class="cta" onclick="submitEmail()">Subscribe</button>
        <button class="small-pill" onclick="closeSubscribe()">Cancel</button>
      </div>
      <div id="subMsg" style="margin-top:12px;color:var(--muted)"></div>
    </div>
  </div>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="modal" style="display:none" aria-hidden="true">
    <div class="box" style="background:transparent;box-shadow:none;">
      <button class="close-x" aria-label="close" onclick="closeLightbox()">âœ•</button>
      <img id="lightboxImg" src="" alt="enlarged image" style="width:100%;max-width:860px;border-radius:10px;box-shadow:0 30px 80px rgba(0,0,0,0.6)">
    </div>
  </div>

<script>
  /* ===== year ===== */
  document.getElementById('year').textContent = new Date().getFullYear();

  /* ===== Mobile side menu controls (quarter screen) ===== */
  const openMenuBtn = document.getElementById('openMenu');
  const sideMenu = document.getElementById('sideMenu');
  const closeMenuBtn = document.getElementById('closeMenu');
  const menuOverlay = document.createElement('div');
  menuOverlay.style.position='fixed'; menuOverlay.style.top='0'; menuOverlay.style.left='0';
  menuOverlay.style.width='100%'; menuOverlay.style.height='100%'; menuOverlay.style.zIndex='1299';
  menuOverlay.style.background='rgba(0,0,0,0.35)'; menuOverlay.style.display='none';
  document.body.appendChild(menuOverlay);

  if(openMenuBtn){
    openMenuBtn.addEventListener('click', ()=> { sideMenu.classList.add('open'); sideMenu.setAttribute('aria-hidden','false'); menuOverlay.style.display='block'; });
    closeMenuBtn.addEventListener('click', ()=> { sideMenu.classList.remove('open'); sideMenu.setAttribute('aria-hidden','true'); menuOverlay.style.display='none'; });
    menuOverlay.addEventListener('click', ()=> { sideMenu.classList.remove('open'); sideMenu.setAttribute('aria-hidden','true'); menuOverlay.style.display='none'; });
    document.querySelectorAll('.side-menu a').forEach(a=>a.addEventListener('click', ()=> { sideMenu.classList.remove('open'); sideMenu.setAttribute('aria-hidden','true'); menuOverlay.style.display='none'; }));
  }

  /* ===== placeholder SVG for missing images ===== */
  function placeholderSVG(){
    return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(
      '<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500"><rect width="100%" height="100%" fill="#012028"/><text x="50%" y="50%" fill="#0ec5ff" font-size="18" text-anchor="middle" dominant-baseline="middle">Image missing â€” add the file to the same folder</text></svg>'
    );
  }

  /* ===== Image fallbacks (fix case-sensitive paths) ===== */
  document.querySelectorAll('img').forEach(img=>{
    img.addEventListener('error', ()=> {
      if(!img.dataset.fallback){ img.src = placeholderSVG(); img.dataset.fallback = '1'; }
    });
  });

  /* ===== Lightbox for teaser & memes ===== */
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.getElementById('lightboxImg');
  const teaserImg = document.getElementById('teaserImg');
  if(teaserImg){
    teaserImg.addEventListener('click', ()=> {
      lightboxImg.src = teaserImg.src;
      lightbox.style.display = 'flex';
      lightbox.setAttribute('aria-hidden','false');
    });
  }
  document.querySelectorAll('.meme').forEach(m=>{
    m.addEventListener('click', ()=> {
      const src = m.dataset.src || m.querySelector('img').src;
      if(!src) return;
      lightboxImg.src = src;
      lightbox.style.display = 'flex';
      lightbox.setAttribute('aria-hidden','false');
    });
  });
  function closeLightbox(){ lightbox.style.display = 'none'; lightbox.setAttribute('aria-hidden','true'); lightboxImg.src=''; }

  /* ===== Subscribe modal & localStorage subscribers count ===== */
  const subscribeModal = document.getElementById('subscribeModal');
  function openSubscribe(){ subscribeModal.style.display='flex'; subscribeModal.setAttribute('aria-hidden','false'); document.getElementById('emailInput').focus(); }
  function closeSubscribe(){ subscribeModal.style.display='none'; subscribeModal.setAttribute('aria-hidden','true'); document.getElementById('subMsg').textContent=''; }
  function getSubscribers(){ return JSON.parse(localStorage.getItem('brox_subs_v1') || '[]'); }
  function updateSubCountUI(){ const n = getSubscribers().length; document.getElementById('subCount').textContent = n + (n===1? ' sub':' subs'); }
  updateSubCountUI();
  function submitEmail(){
    const email = document.getElementById('emailInput').value.trim();
    const msg = document.getElementById('subMsg');
    if(!email || !/^\S+@\S+\.\S+$/.test(email)){ msg.textContent = 'Please enter a valid email.'; return; }
    const key = 'brox_subs_v1';
    const list = getSubscribers();
    if(list.includes(email)){ msg.textContent = 'Already subscribed â€” thanks!'; document.getElementById('emailInput').value=''; return; }
    list.push(email); localStorage.setItem(key, JSON.stringify(list));
    msg.textContent = 'Subscribed! We will notify you.'; document.getElementById('emailInput').value='';
    updateSubCountUI();
  }

  /* ===== Countdown (live) ===== */
  const LAUNCH_DATE = new Date('2025-11-01T12:00:00Z');
  function updateCountdown(){
    const now = new Date();
    let diff = Math.max(0, LAUNCH_DATE - now);
    const days = Math.floor(diff / (1000*60*60*24));
    diff -= days * (1000*60*60*24);
    const hours = Math.floor(diff / (1000*60*60));
    diff -= hours * (1000*60*60);
    const mins = Math.floor(diff / (1000*60));
    diff -= mins * (1000*60);
    const secs = Math.floor(diff / 1000);
    document.getElementById('cd-days').textContent = String(days).padStart(2,'0');
    document.getElementById('cd-hours').textContent = String(hours).padStart(2,'0');
    document.getElementById('cd-mins').textContent = String(mins).padStart(2,'0');
    document.getElementById('cd-secs').textContent = String(secs).padStart(2,'0');
  }
  updateCountdown();
  setInterval(updateCountdown,1000);

  /* ===== Allocation donut: draw dashed arcs for 99% & 1% then animate dashoffset ===== */
  (function drawAlloc(){
    const arcMain = document.getElementById('arcMain');
    const arcTail = document.getElementById('arcTail');
    if(!arcMain || !arcTail) return;
    const r = 88;
    const circumference = 2 * Math.PI * r;
    const pMain = 99;
    const pTail = 1;
    // set dasharray
    arcMain.setAttribute('stroke-dasharray', (circumference * pMain / 100) + ' ' + circumference);
    arcTail.setAttribute('stroke-dasharray', (circumference * pTail / 100) + ' ' + circumference);
    // position tail after main
    const rotateDeg = 360 * (pMain / 100);
    arcTail.setAttribute('transform', `rotate(${rotateDeg} 110 110)`);
    // initial hidden
    arcMain.style.strokeDashoffset = circumference;
    arcTail.style.strokeDashoffset = circumference;
    // color
    arcMain.style.stroke = getComputedStyle(document.documentElement).getPropertyValue('--accent') || '#0ec5ff';
    arcTail.style.stroke = getComputedStyle(document.documentElement).getPropertyValue('--accent-2') || '#ff7a45';
    // animate reveal (fast then hold) to reduce CPU spike
    setTimeout(()=>{
      arcMain.style.transition = 'stroke-dashoffset 700ms cubic-bezier(.2,.9,.2,1)';
      arcTail.style.transition = 'stroke-dashoffset 700ms cubic-bezier(.2,.9,.2,1)';
      arcMain.style.strokeDashoffset = circumference * (1 - pMain/100);
      arcTail.style.strokeDashoffset = circumference * (1 - pTail/100);
    }, 120);
  })();

  /* ===== Particles: subtle & low-cost to avoid lag ===== */
  (function particles(){
    const canvas = document.createElement('canvas');
    canvas.style.position='fixed'; canvas.style.left=0; canvas.style.top=0; canvas.style.zIndex='-1';
    canvas.style.width='100%'; canvas.style.height='100%';
    document.body.appendChild(canvas);
    const ctx = canvas.getContext('2d');
    let w, h, stars=[];
    function resize(){
      const dpr = window.devicePixelRatio || 1;
      w = canvas.width = innerWidth * dpr;
      h = canvas.height = innerHeight * dpr;
      canvas.style.width = innerWidth + 'px';
      canvas.style.height = innerHeight + 'px';
      ctx.scale(dpr, dpr);
      stars = [];
      const max = Math.min(60, Math.floor(innerWidth/20));
      for(let i=0;i<max;i++) stars.push({x:Math.random()*innerWidth, y:Math.random()*innerHeight, r:Math.random()*1.4 + 0.2, dx:(Math.random()-.5)/3, dy:(Math.random()-.5)/3});
    }
    function draw(){
      ctx.clearRect(0,0,innerWidth,innerHeight);
      ctx.fillStyle = '#0ec5ff';
      ctx.globalAlpha = 0.06;
      for(const s of stars){
        ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
        s.x += s.dx; s.y += s.dy;
        if(s.x < 0 || s.x > innerWidth) s.dx *= -1;
        if(s.y < 0 || s.y > innerHeight) s.dy *= -1;
      }
      requestAnimationFrame(draw);
    }
    resize();
    window.addEventListener('resize', resize);
    draw();
  })();

  /* ===== Reveal roadmap items (gentle) ===== */
  document.querySelectorAll('.fun-step').forEach((el, idx) => setTimeout(()=> el.classList.add('visible'), 200 + idx*110));

  /* ===== Keyboard handling ===== */
  window.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){
      closeSubscribe(); closeLightbox();
      sideMenu && sideMenu.classList.remove('open'); menuOverlay.style.display='none';
    }
  });

  // ensure subcount initial update
  updateSubCountUI();

</script>
</body>
</html>