<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BROX — Born in Fire (Pre-Launch) — Volcanic 10x</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

  <style>
    :root{
      --bg-1:#060506;
      --bg-2:#0d0b0b;
      --lava1:#ff6b35;
      --lava2:#ff2e00;
      --accent:#ffd18a;
      --muted:#9da7b2;
      --card: rgba(255,255,255,0.03);
      --glass: rgba(255,255,255,0.03);
      --radius:16px;
      --maxw:1200px;
      --ease:cubic-bezier(.18,.9,.32,1);
    }

    /* Reset / Base */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;color:#f6f9fa;background:var(--bg-1);-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%;height:auto}

    /* -- Animated volcanic background (multiple moving radial gradients) -- */
    .lava-bg{
      position:fixed;inset:0;z-index:-3;pointer-events:none;
      background:
        radial-gradient(600px 400px at 10% 20%, rgba(255,107,53,0.06), transparent 8%),
        radial-gradient(500px 300px at 80% 70%, rgba(255,46,0,0.04), transparent 8%),
        linear-gradient(180deg,var(--bg-1),var(--bg-2));
      animation:lavaShift 12s linear infinite;
    }
    @keyframes lavaShift{
      0%{background-position:0% 0%,0% 100%}
      50%{background-position:10% 10%, -10% 90%}
      100%{background-position:0% 0%,0% 100%}
    }
    /* subtle particles / embers */
    .embers{
      position:fixed;inset:0;z-index:-2;pointer-events:none;opacity:0.35;background-image:
        radial-gradient(circle at 10% 30%, rgba(255,140,0,0.07) 0 1px, transparent 2px),
        radial-gradient(circle at 70% 80%, rgba(255,200,90,0.03) 0 1px, transparent 2px);
      background-size:1200px 1200px;filter:blur(.4px);
      animation:embersMove 20s linear infinite;
    }
    @keyframes embersMove{ from{transform:translateY(0)} to{transform:translateY(-30px)} }

    /* Header */
    header{position:fixed;inset-inline:0;top:0;z-index:1200;padding:12px 18px;backdrop-filter:blur(6px);background:linear-gradient(90deg, rgba(0,0,0,0.45), rgba(0,0,0,0.12));border-bottom:1px solid rgba(255,255,255,0.02)}
    .nav{max-width:var(--maxw);margin:0 auto;padding:0 18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{font-family:Orbitron,monospace;font-size:1.1rem;color:var(--accent);letter-spacing:1px}
    .header-actions{display:flex;gap:10px;align-items:center}

    /* Animated menu button (hamburger -> X) */
    .menu-toggle{width:48px;height:48px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);display:inline-grid;place-items:center;background:transparent;cursor:pointer;transition:all .28s var(--ease)}
    .menu-toggle:hover{transform:translateY(-3px);box-shadow:0 12px 40px rgba(255,46,0,0.08)}
    .hamburger{position:relative;width:20px;height:12px}
    .hamburger span{position:absolute;left:0;right:0;height:2px;background:var(--lava1);display:block;border-radius:2px;transition:transform .28s,var(--ease),opacity .18s}
    .hamburger span:nth-child(1){top:0}
    .hamburger span:nth-child(2){top:5px}
    .hamburger span:nth-child(3){top:10px}
    .menu-toggle.open .hamburger span:nth-child(1){transform:translateY(5px) rotate(45deg)}
    .menu-toggle.open .hamburger span:nth-child(2){opacity:0}
    .menu-toggle.open .hamburger span:nth-child(3){transform:translateY(-5px) rotate(-45deg)}

    /* Container / layout */
    .container{max-width:var(--maxw);margin:0 auto;padding:0 18px}

    /* HERO center stage */
    .hero{min-height:86vh;display:grid;place-items:center;padding:110px 0 50px;text-align:center}
    .center-stage{display:flex;flex-direction:column;align-items:center;gap:18px;max-width:980px}
    .glow-ring{position:relative;width:420px;height:420px;border-radius:50%;pointer-events:none;z-index:-1;filter:blur(30px);
      background:radial-gradient(circle at 30% 30%, rgba(255,107,53,0.08), transparent 25%), radial-gradient(circle at 70% 70%, rgba(255,46,0,0.04), transparent 40%)}
    .mascot{width:240px;border-radius:22px;box-shadow:0 30px 90px rgba(0,0,0,0.6);transition:transform .28s var(--ease)}
    .mascot:hover{transform:translateY(-8px) scale(1.03)}
    .kicker{font-family:Orbitron,monospace;color:var(--lava1);letter-spacing:1px}
    .headline{font-family:Orbitron,monospace;font-size:2.8rem;margin:6px 0;background:linear-gradient(90deg,var(--lava1),var(--accent));-webkit-background-clip:text;color:transparent}
    .sub{color:var(--muted);max-width:780px}

    .hero-cta{display:flex;gap:12px;margin-top:10px;flex-wrap:wrap;justify-content:center}
    .btn-primary{background:linear-gradient(90deg,var(--lava1),var(--lava2));border:0;padding:12px 16px;border-radius:12px;font-weight:800;color:#071017;cursor:pointer;box-shadow:0 20px 60px rgba(255,46,0,0.08)}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:10px 14px;border-radius:12px;color:var(--accent);cursor:pointer}

    /* Info row */
    .info-row{display:flex;gap:16px;align-items:center;justify-content:center;flex-wrap:wrap;margin-top:8px}
    .chip{background:var(--card);padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);min-width:120px;text-align:center}

    /* Sections container */
    .sections{max-width:1200px;margin:28px auto 80px;padding:0 18px;display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:start}
    @media (max-width:980px){ .sections{grid-template-columns:1fr} .glow-ring{width:320px;height:320px} .mascot{width:200px} }

    /* --- Tokenomics --- */
    .card{background:var(--card);padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 16px 50px rgba(0,0,0,0.45)}
    .supply{font-family:Orbitron,monospace;font-size:2.4rem;margin-top:8px;color:var(--muted)}
    .pie-wrap{display:flex;flex-direction:column;align-items:center;gap:12px}
    .pie-svg{width:280px;height:280px}

    /* pie slice animation - we'll animate stroke-dasharray via JS */
    .pie-center{position:relative;top:-220px;pointer-events:none;display:flex;align-items:center;justify-content:center;flex-direction:column}
    .pie-center img{width:86px;border-radius:999px;border:6px solid rgba(255,255,255,0.02);box-shadow:0 12px 40px rgba(255,46,0,0.06)}

    .legend{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .legend .item{display:flex;align-items:center;gap:10px}

    /* --- How to buy (cards) --- */
    .how-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(210px,1fr));gap:14px}
    .how-card{background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.04));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);text-align:center}
    .how-num{font-size:28px;font-weight:800;color:var(--lava1)}

    /* --- Roadmap (vertical timeline) --- */
    .road{padding:12px}
    .road h2{font-family:Orbitron,monospace;color:var(--lava1);margin:6px 0 12px}
    .timeline{position:relative;margin:20px 0;padding-left:36px;max-width:720px}
    .timeline:before{content:'';position:absolute;left:14px;top:0;bottom:0;width:4px;background:linear-gradient(var(--lava1),var(--lava2));border-radius:2px}
    .timeline .step{position:relative;margin-bottom:26px;opacity:0;transform:translateY(16px);transition:opacity .6s var(--ease),transform .6s var(--ease)}
    .timeline .step.visible{opacity:1;transform:none}
    .timeline .dot{position:absolute;left:6px;top:2px;width:20px;height:20px;border-radius:50%;background:radial-gradient(circle,var(--lava1) 30%,var(--lava2) 90%);box-shadow:0 10px 30px rgba(255,46,0,0.12)}
    .timeline .content{margin-left:34px;color:var(--muted)}
    .timeline .content strong{display:block;color:var(--lava1);font-family:Orbitron,monospace;margin-bottom:6px}

    /* Footer / socials */
    footer{padding:28px 18px 60px;text-align:center}
    .socials{display:flex;gap:12px;justify-content:center;align-items:center;margin-bottom:10px}
    .social-btn{width:56px;height:56px;border-radius:999px;display:inline-grid;place-items:center;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.06));border:1px solid rgba(255,255,255,0.03);transition:transform .18s}
    .social-btn i{font-size:20px;color:#fff}
    .social-btn:hover{transform:translateY(-6px);box-shadow:0 20px 60px rgba(255,46,0,0.10)}
    .copy{color:var(--muted);font-size:.95rem;margin-top:10px}

    /* Modal (center image opens modal with panels) */
    .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,4,6,0.75);backdrop-filter:blur(6px);z-index:2400;padding:20px}
    .modal-box{width:100%;max-width:980px;background:linear-gradient(180deg,#0f0f10,#141314);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .modal-grid{display:grid;grid-template-columns:1fr 320px;gap:18px}
    .modal-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));padding:12px;border-radius:10px;cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
    .modal-detail{min-height:200px;padding:12px;border-radius:10px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.02);overflow:auto}
    .close-modal{float:right;background:transparent;border:0;color:var(--muted);font-size:18px;cursor:pointer}

    /* small screens */
    @media (max-width:980px){
      .sections{grid-template-columns:1fr; padding:0 18px}
      .modal-grid{grid-template-columns:1fr}
      .pie-svg{width:220px;height:220px}
      .glow-ring{width:320px;height:320px}
      .mascot{width:200px}
    }
  </style>
</head>
<body>
  <div class="lava-bg" aria-hidden="true"></div>
  <div class="embers" aria-hidden="true"></div>

  <header>
    <div class="container nav" role="navigation" aria-label="Main nav">
      <div class="brand">BROX</div>

      <div class="header-actions">
        <button class="menu-toggle" id="menuToggle" aria-label="Open menu" aria-expanded="false">
          <span class="hamburger" aria-hidden="true"><span></span><span></span><span></span></span>
        </button>
      </div>
    </div>
  </header>

  <main class="hero" role="main">
    <div class="container center-stage">
      <div class="glow-ring" aria-hidden="true"></div>

      <!-- center clickable image -->
      <button id="mascotBtn" style="border:0;background:transparent;cursor:pointer;padding:0" aria-haspopup="dialog" aria-controls="infoModal" title="Open BROX info">
        <img id="mascotImg" class="mascot" src="Picsart_25-09-20_12-05-00-500.png" alt="BROX mascot">
      </button>

      <div class="kicker">COMMUNITY • PRE-LAUNCH</div>
      <h1 class="headline">Born in Fire — <span style="color:transparent;background:linear-gradient(90deg,var(--lava1),var(--accent));-webkit-background-clip:text">$BROX</span></h1>
      <p class="sub">BROX is community-driven and not live yet. Follow official channels for verified launch updates, airdrops and priority access.</p>

      <div class="hero-cta">
        <button class="btn-primary" id="joinWait">Join Waitlist</button>
        <button class="btn-ghost" disabled title="Token not live yet">Buy (Coming Soon)</button>
      </div>

      <div class="info-row" style="margin-top:10px">
        <div class="chip"><small style="color:var(--muted);display:block">Status</small><strong>Pre-Launch</strong></div>
        <div class="chip"><small style="color:var(--muted);display:block">Community</small><strong id="communityCount">215K</strong></div>
        <div class="chip"><small style="color:var(--muted);display:block">Allocation</small><strong>99% / 1%</strong></div>
      </div>
    </div>
  </main>

  <!-- content sections -->
  <section class="sections container" aria-label="Main content">
    <!-- left column -->
    <div class="left-col">
      <!-- About large -->
      <div class="card about" id="about">
        <h2 style="font-family:Orbitron,monospace;font-size:2.6rem;color:var(--lava1);margin:0 0 12px">About</h2>
        <p style="color:var(--muted);line-height:1.8">BROX is a community-first memecoin built with fairness and longevity in mind. Token is pre-launch — no contract published until audits & governance confirm final parameters. Active community members get priority access to airdrops, governance, and launch privileges.</p>
      </div>

      <!-- tokenomics (below about) -->
      <div style="margin-top:20px" id="tokenomics">
        <div class="card">
          <h3 style="font-family:Orbitron,monospace;color:var(--lava1);margin:0 0 8px">Token Supply</h3>
          <div class="supply">Coming Soon</div>
          <p style="color:var(--muted);margin-top:10px">No taxes. Liquidity & listing decisions are community-governed. Team allocation: 1% (vested) — Community: 99%.</p>
        </div>

        <div style="height:18px"></div>

        <!-- How to Buy -->
        <div class="card">
          <h3 style="font-family:Orbitron,monospace;color:var(--lava1);margin:0 0 8px">How to Buy (Overview)</h3>
          <div class="how-grid" style="margin-top:12px">
            <div class="how-card"><div class="how-num">1</div><h4 style="margin:8px 0;font-family:Orbitron">Create Wallet</h4><p style="color:var(--muted)">Install MetaMask or a compatible wallet (mobile/desktop).</p></div>
            <div class="how-card"><div class="how-num">2</div><h4 style="margin:8px 0;font-family:Orbitron">Add Funds</h4><p style="color:var(--muted)">Buy ETH/BNB and transfer to your wallet.</p></div>
            <div class="how-card"><div class="how-num">3</div><h4 style="margin:8px 0;font-family:Orbitron">Swap</h4><p style="color:var(--muted)">Use official contract & verified guide when token is live.</p></div>
          </div>
        </div>

        <div style="height:18px"></div>

        <!-- Roadmap improved -->
        <div class="card road" id="roadmap">
          <h2>Roadmap</h2>
          <div class="timeline" id="timeline">
            <div class="step">
              <div class="dot" aria-hidden="true"></div>
              <div class="content"><strong>Phase 1 — Community</strong>Grow channels, set up governance and rewards; launch engagement programs and airdrop planning.</div>
            </div>

            <div class="step">
              <div class="dot" aria-hidden="true"></div>
              <div class="content"><strong>Phase 2 — Audit & Beta</strong>Smart contract audits, security hardening, community beta testing & bug bounties.</div>
            </div>

            <div class="step">
              <div class="dot" aria-hidden="true"></div>
              <div class="content"><strong>Phase 3 — Launch</strong>Publish verified contract, detailed guides, and initial liquidity steps via governance.</div>
            </div>

            <div class="step">
              <div class="dot" aria-hidden="true"></div>
              <div class="content"><strong>Phase 4 — Expansion</strong>Listings, partnerships, continuous governance and feature rollouts.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- right column (pie + quick facts) -->
    <aside class="right-col" style="display:flex;flex-direction:column;gap:20px">
      <div class="card">
        <h3 style="font-family:Orbitron,monospace;color:var(--lava1);margin:0 0 8px">Allocation</h3>

        <div class="pie-wrap" aria-hidden="true">
          <!-- Pie SVG: we'll animate stroke-dasharray to show 99% fill -->
          <svg id="pieSVG" class="pie-svg" viewBox="0 0 200 200" role="img" aria-label="Tokenomics pie chart">
            <defs><linearGradient id="gradL" x1="0%" x2="100%"><stop offset="0%" stop-color="#ff6b35"/><stop offset="100%" stop-color="#ff2e00"/></linearGradient></defs>
            <circle cx="100" cy="100" r="72" stroke="rgba(255,255,255,0.04)" stroke-width="16" fill="none"></circle>
            <circle id="arcCommunity" cx="100" cy="100" r="72" stroke="url(#gradL)" stroke-width="16" stroke-linecap="round" fill="none" transform="rotate(-90 100 100)" stroke-dasharray="0 452.3893421169302"></circle>
            <circle id="arcTeam" cx="100" cy="100" r="72" stroke="#ffd166" stroke-width="16" stroke-linecap="round" fill="none" transform="rotate(-90 100 100)" stroke-dasharray="0 452.3893421169302"></circle>
            <circle cx="100" cy="100" r="52" stroke="rgba(255,255,255,0.02)" stroke-width="6" fill="none"></circle>
          </svg>

          <div class="pie-center" aria-hidden="true">
            <img id="pieCenterImg" src="Picsart_25-09-20_12-05-00-500.png" alt="BROX mascot">
            <div style="margin-top:8px;font-family:Orbitron;color:var(--accent)">Community 99% / Team 1%</div>
          </div>
        </div>

        <div class="legend" style="margin-top:8px">
          <div class="item"><span style="width:14px;height:14px;border-radius:4px;background:linear-gradient(90deg,#ff6b35,#ff2e00);display:inline-block"></span><div style="margin-left:8px;display:inline-block"><strong>Community</strong><div style="color:var(--muted);font-size:.9rem">99%</div></div></div>
          <div class="item"><span style="width:14px;height:14px;border-radius:4px;background:#ffd166;display:inline-block"></span><div style="margin-left:8px;display:inline-block"><strong>Team</strong><div style="color:var(--muted);font-size:.9rem">1% (vested)</div></div></div>
        </div>
      </div>

      <div class="card">
        <h3 style="font-family:Orbitron,monospace;color:var(--lava1);margin:0 0 8px">Quick Facts</h3>
        <ul style="list-style:none;padding:0;margin:0;color:var(--muted);line-height:1.9">
          <li><strong>Supply:</strong> Coming Soon</li>
          <li><strong>Team:</strong> 1% (vested)</li>
          <li><strong>Liquidity:</strong> Community-governed</li>
          <li><strong>Audit:</strong> Planned before launch</li>
        </ul>
      </div>
    </aside>
  </section>

  <!-- Footer -->
  <footer>
    <div class="socials" id="socials">
      <a class="social-btn" href="https://x.com/Brox__official" target="_blank" rel="noopener noreferrer" aria-label="X"><i class="fa-brands fa-x-twitter"></i></a>
      <a class="social-btn" href="http://t.me/brox_offi" target="_blank" rel="noopener noreferrer" aria-label="Telegram"><i class="fa-brands fa-telegram"></i></a>
      <a class="social-btn" href="https://www.instagram.com/brox__official?igsh=MWt5d2wyc2VwNjlpag==" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
      <a class="social-btn" href="https://www.tiktok.com/@brox__official?_t=ZS-8ztVaKe1B5x&_r=1" target="_blank" rel="noopener noreferrer" aria-label="TikTok"><i class="fa-brands fa-tiktok"></i></a>
    </div>
    <div class="copy">© <span id="year"></span> BROX — Pre-Launch. Informational only; token not live yet.</div>
  </footer>

  <!-- Info modal (center image triggers) -->
  <div id="infoModal" class="overlay" role="dialog" aria-hidden="true" aria-modal="true">
    <div class="modal-box" role="document">
      <button class="close-modal" id="closeInfo" aria-label="Close">✕</button>
      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
        <div>
          <div style="font-family:Orbitron,monospace;color:var(--lava1);font-size:1.1rem">BROX — Quick Menu</div>
          <div style="color:var(--muted);margin-top:6px">Core info & official links</div>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <a class="social-btn" href="https://x.com/Brox__official" target="_blank" aria-label="X"><i class="fa-brands fa-x-twitter"></i></a>
          <a class="social-btn" href="http://t.me/brox_offi" target="_blank" aria-label="Telegram"><i class="fa-brands fa-telegram"></i></a>
        </div>
      </div>

      <div style="height:12px"></div>
      <div class="modal-grid">
        <div style="display:flex;flex-direction:column;gap:12px">
          <button class="modal-card" data-panel="p-about" tabindex="0"><strong>About</strong><div style="color:var(--muted);font-size:.95rem;margin-top:6px">Community-first token & transparency promise.</div></button>
          <button class="modal-card" data-panel="p-token" tabindex="0"><strong>Tokenomics</strong><div style="color:var(--muted);font-size:.95rem;margin-top:6px">Community 99% • Team 1% — allocation preview.</div></button>
          <button class="modal-card" data-panel="p-comm" tabindex="0"><strong>Community</strong><div style="color:var(--muted);font-size:.95rem;margin-top:6px">Channels, airdrops & governance.</div></button>
        </div>

        <div class="modal-detail" id="modalDetail" aria-live="polite">
          <div id="p-about" style="display:none">
            <h3 style="margin:0 0 8px;color:var(--lava1)">About BROX</h3>
            <p style="color:var(--muted)">BROX is built for the community. Pre-launch status — verified contracts & audits will be published prior to trading.</p>
          </div>

          <div id="p-token" style="display:none">
            <h3 style="margin:0 0 8px;color:var(--lava1)">Tokenomics</h3>
            <p style="color:var(--muted)"><strong>Community 99%</strong> • <strong>Team 1%</strong>. Liquidity & listing decisions are community-driven.</p>
          </div>

          <div id="p-comm" style="display:none">
            <h3 style="margin:0 0 8px;color:var(--lava1)">Community</h3>
            <p style="color:var(--muted)">Join our official channels for announcements, governance, and priority airdrops.</p>
          </div>
        </div>
      </div>

      <div style="margin-top:14px;display:flex;gap:10px;justify-content:flex-end">
        <button id="modalWait" class="btn-primary">Join Waitlist</button>
        <button id="modalCloseX" class="btn-ghost">Close</button>
      </div>
    </div>
  </div>

  <!-- Waitlist small overlay -->
  <div id="waitOverlay" class="overlay" role="dialog" aria-hidden="true" style="display:none;align-items:center;justify-content:center">
    <div class="modal-box" role="document">
      <button class="close-modal" id="waitClose">✕</button>
      <div style="font-family:Orbitron,monospace;color:var(--lava1);font-size:1.05rem;margin-bottom:8px">Join Waitlist</div>
      <p style="color:var(--muted);margin:0 0 10px">Enter your email to receive verified launch instructions.</p>
      <form id="waitForm" style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
        <input id="waitEmail" type="email" placeholder="you@example.com" required style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff;min-width:220px">
        <button type="submit" class="btn-primary">Join</button>
        <button type="button" class="btn-ghost" id="waitCloseBtn">Close</button>
      </form>
      <div id="waitMsg" style="margin-top:10px;color:var(--muted);display:none"></div>
    </div>
  </div>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear?.() || new Date().getFullYear();

    // image fallback
    (function(){
      const fallback = 'https://i.ibb.co/4tBkQ8y/brox-mascot.png';
      const imgs = [document.getElementById('mascotImg'), document.getElementById('pieCenterImg')];
      imgs.forEach(img => { if(!img) return; img.addEventListener('error', ()=>{ img.src = fallback; img.alt = 'BROX (fallback)'; }) });
    })();

    // menu toggle animation
    const menuToggle = document.getElementById('menuToggle');
    let menuOpen = false;
    menuToggle.addEventListener('click', ()=>{
      menuOpen = !menuOpen;
      menuToggle.classList.toggle('open', menuOpen);
      menuToggle.setAttribute('aria-expanded', String(menuOpen));
      // open a simple overlay menu (use modal for large menu like Pepe)
      if(menuOpen){
        showOverlayMenu();
      } else {
        hideOverlayMenu();
      }
    });

    // create full-screen overlay menu (big items) dynamically to mimic Pepe style
    function showOverlayMenu(){
      if(document.getElementById('fsMenu')) return;
      const fs = document.createElement('div'); fs.id='fsMenu';
      fs.style.cssText='position:fixed;inset:0;z-index:2200;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(10,6,4,0.96),rgba(2,1,1,0.98));';
      fs.innerHTML = `
        <div style="text-align:center;max-width:720px;padding:28px;color:#fff">
          <button id="fsClose" aria-label="Close" style="background:none;border:0;color:#fff;font-size:28px;position:absolute;right:18px;top:18px;cursor:pointer">✕</button>
          <nav style="display:flex;flex-direction:column;gap:26px;align-items:center;justify-content:center;margin-top:18px">
            <a href="#about" class="fsLink" style="font-family:Orbitron,monospace;font-size:44px;color:var(--accent)">about</a>
            <a href="#how" class="fsLink" style="font-family:Orbitron,monospace;font-size:44px;color:var(--accent)">how to buy</a>
            <a href="#tokenomics" class="fsLink" style="font-family:Orbitron,monospace;font-size:44px;color:var(--accent)">tokenomics</a>
            <a href="#roadmap" class="fsLink" style="font-family:Orbitron,monospace;font-size:44px;color:var(--accent)">roadmap</a>
          </nav>
        </div>
      `;
      document.body.appendChild(fs);
      document.getElementById('fsClose').addEventListener('click', ()=>{ hideOverlayMenu(); menuOpen=false; menuToggle.classList.remove('open'); menuToggle.setAttribute('aria-expanded','false') });
      document.querySelectorAll('.fsLink').forEach(a=>a.addEventListener('click', e=>{ hideOverlayMenu(); menuOpen=false; menuToggle.classList.remove('open'); menuToggle.setAttribute('aria-expanded','false') }));
    }
    function hideOverlayMenu(){ const el=document.getElementById('fsMenu'); if(el) el.remove(); }

    // reveal timeline steps on scroll
    (function(){
      const steps = document.querySelectorAll('.timeline .step');
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(en=>{
          if(en.isIntersecting){ en.target.classList.add('visible'); io.unobserve(en.target); }
        });
      },{threshold:0.18});
      steps.forEach(s=>io.observe(s));
    })();

    // animate pie arc to 99%
    (function(){
      const arc = document.getElementById('arcCommunity');
      const arcTeam = document.getElementById('arcTeam');
      if(!arc) return;
      const r = 72;
      const circ = 2 * Math.PI * r; // circumference ~452.389
      // target percentages
      const commPct = 99;
      const teamPct = 1;
      // compute dasharray values
      const commLength = (commPct/100) * circ;
      const teamLength = (teamPct/100) * circ;
      // animate smoothly
      let current = 0;
      const stepMs = 8;
      const totalSteps = Math.ceil(commPct); // animate per percent
      const step = setInterval(()=>{
        current++;
        if(current>commPct){ clearInterval(step); }
        const filled = (current/100) * circ;
        arc.setAttribute('stroke-dasharray', `${filled} ${circ - filled}`);
        // team arc is simply remaining slice: set to small slice length
        arcTeam.setAttribute('stroke-dasharray', `${circ - filled} ${filled}`);
      }, stepMs);
    })();

    // modal (mascot click)
    (function(){
      const infoModal = document.getElementById('infoModal');
      const mascotBtn = document.getElementById('mascotBtn');
      const closeInfo = document.getElementById('closeInfo');
      const modalCards = document.querySelectorAll('.modal-card');
      const panels = ['p-about','p-token','p-comm'];

      mascotBtn.addEventListener('click', openInfo);
      closeInfo.addEventListener('click', closeInfoFn);
      document.getElementById('modalCloseX').addEventListener('click', closeInfoFn);
      document.getElementById('modalWait').addEventListener('click', ()=>{ openWait(); });

      function openInfo(){
        infoModal.style.display='flex'; infoModal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden';
        showPanel('p-about');
      }
      function closeInfoFn(){
        infoModal.style.display='none'; infoModal.setAttribute('aria-hidden','true'); document.body.style.overflow='';
        panels.forEach(id=>{ const el=document.getElementById(id); if(el) el.style.display='none'; });
      }
      modalCards.forEach(card=>{
        card.addEventListener('click', ()=>{ const p=card.getAttribute('data-panel'); if(p) showPanel(p); });
      });
      function showPanel(id){
        panels.forEach(pid=>{ const el=document.getElementById(pid); if(el) el.style.display = (pid===id)?'block':'none'; });
      }
      infoModal.addEventListener('click', (e)=>{ if(e.target === infoModal) closeInfoFn(); });
    })();

    // Waitlist overlay logic
    (function(){
      const waitOverlay = document.getElementById('waitOverlay');
      const waitForm = document.getElementById('waitForm');
      const joinWait = document.getElementById('joinWait');
      const modalWaitBtn = document.getElementById('modalWait');
      const waitClose = document.getElementById('waitClose');
      const waitCloseBtn = document.getElementById('waitCloseBtn');
      const waitMsg = document.getElementById('waitMsg');

      function openWait(){ waitOverlay.style.display='flex'; waitOverlay.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
      function closeWait(){ waitOverlay.style.display='none'; waitOverlay.setAttribute('aria-hidden','true'); document.body.style.overflow=''; waitMsg.style.display='none'; }

      joinWait?.addEventListener('click', openWait);
      modalWaitBtn?.addEventListener('click', openWait);
      waitClose?.addEventListener('click', closeWait);
      waitCloseBtn?.addEventListener('click', closeWait);
      waitForm?.addEventListener('submit', (e)=>{
        e.preventDefault();
        const v = document.getElementById('waitEmail').value.trim();
        if(!v || !/.+@.+\..+/.test(v)){ waitMsg.style.display='block'; waitMsg.textContent='Enter a valid email.'; return; }
        try{
          const key = 'brox_waitlist_v1'; const arr = JSON.parse(localStorage.getItem(key) || '[]');
          if(!arr.includes(v)){ arr.push(v); localStorage.setItem(key, JSON.stringify(arr)); waitMsg.textContent='Added to waitlist (saved locally).'; }
          else waitMsg.textContent='You are already on the waitlist.';
          waitMsg.style.display='block';
          setTimeout(()=>{ window.location.href = `mailto:contact@brox.io?subject=Waitlist Signup&body=Please add this email to waitlist: ${encodeURIComponent(v)}`; }, 700);
          document.getElementById('waitEmail').value = '';
        }catch(err){ waitMsg.style.display='block'; waitMsg.textContent='Could not save — try again.'; }
      });
      waitOverlay?.addEventListener('click', (e)=>{ if(e.target === waitOverlay) closeWait(); });
    })();

    // community counter faux
    (function(){
      const el = document.getElementById('communityCount'); if(!el) return;
      let n = 215;
      el.textContent = n + 'K';
      setInterval(()=>{ n += Math.floor(Math.random()*2); el.textContent = n + 'K'; }, 9000);
    })();

    // smooth scroll for in-page links
    (function(){ document.querySelectorAll('a[href^="#"]').forEach(a=>a.addEventListener('click', e=>{ const id=a.getAttribute('href'); if(!id||id==='#') return; const el=document.querySelector(id); if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth',block:'start'}); hideOverlayMenu(); } })); })();

    // helper: hide fs menu (if present)
    function hideOverlayMenu(){ const el=document.getElementById('fsMenu'); if(el) el.remove(); menuToggle.classList.remove('open'); menuToggle.setAttribute('aria-expanded','false'); menuOpen=false; }

  </script>
</body>
</html>
